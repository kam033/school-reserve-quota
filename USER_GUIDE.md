# دليل استخدام نظام إدارة الحصص الاحتياطية

## 📋 نظرة عامة
نظام ذكي متكامل لإدارة الجداول المدرسية والحصص الاحتياطية يعتمد على ملفات XML المستخرجة من برنامج aSc Timetables.

---

## 🚀 البدء السريع

### 1️⃣ تسجيل الدخول
- اضغط على زر **"تسجيل الدخول"** في الصفحة الرئيسية
- بيانات الدخول التجريبية:
  - اسم المستخدم: `admin`
  - كلمة المرور: `admin123`

### 2️⃣ رفع ملف XML
1. اضغط على **"تحميل الجدول"**
2. اختر ملف XML من جهازك (مُصدّر من aSc Timetables)
3. سيقوم النظام تلقائياً بـ:
   - تحويل الملف إلى ترميز UTF-8 بدون BOM
   - إزالة أي رموز غير مفهومة
   - استخراج بيانات المعلمين والحصص
   - عرض جدول تفصيلي لجميع المعلمين

### 3️⃣ اعتماد البيانات ⚠️ **خطوة مهمة جداً**
بعد رفع الملف بنجاح:
1. راجع البيانات المعروضة في الجدول
2. تأكد من صحة أسماء المعلمين والمواد
3. **اضغط على زر "اعتماد البيانات"** لتفعيل البيانات في النظام

> 🔴 **تنبيه مهم:** جميع الأزرار الأخرى (جداول المعلمين، التقرير الإحصائي، الغياب، إلخ) **لن تعمل** إلا بعد اعتماد البيانات!

---

## 📌 كيفية عمل الأزرار

### ✅ الأزرار التي تعمل بدون اعتماد:
- **تسجيل الدخول**: متاح دائماً
- **تحميل الجدول**: يعمل بعد تسجيل الدخول
- **إضافة مستخدم جديد**: للمشرفين فقط

### ⚠️ الأزرار التي تحتاج إلى اعتماد:
هذه الأزرار **لن تعرض البيانات** إلا بعد اعتماد الجدول:
- **عرض الجدول الكامل**: يعرض جميع البيانات من الملف
- **جداول المعلمين**: يعرض جدول كل معلم بشكل تفصيلي
- **غياب المعلمين**: لتسجيل الغياب اليومي
- **تقرير إحصائي**: يعرض الإحصاءات والتقارير

> إذا قمت بالضغط على أي زر من هذه الأزرار قبل الاعتماد، ستظهر رسالة:  
> **"⚠️ لا يوجد جدول معتمد - يرجى رفع ملف XML واعتماده أولاً"**

---

## 🎯 خطوات استخدام كل قسم

### 📂 تحميل الجدول (XML Upload)
**الغرض:** رفع ملف XML من aSc Timetables

**الخطوات:**
1. افتح صفحة "تحميل الجدول"
2. اختر ملف XML
3. انتظر معالجة الملف (تلقائياً)
4. راجع جدول المعلمين المعروض
5. **اضغط "اعتماد البيانات"** ✓

**ملاحظات:**
- النظام يحول الملف تلقائياً لـ UTF-8
- لا تحتاج لتعديل الملف يدوياً في Notepad++
- الأخطاء والتحذيرات تظهر تلقائياً

---

### 🧾 جداول المعلمين
**الغرض:** عرض الجدول الأسبوعي لكل معلم

**الخطوات:**
1. اختر اسم المعلم من القائمة
2. شاهد الجدول الأسبوعي الملون
3. استخدم الأسهم للتنقل بين المعلمين

**المميزات:**
- ألوان مختلفة لكل مادة
- عرض الأيام والحصص بشكل واضح
- عدد الحصص الأسبوعية لكل معلم
- معلومات تفصيلية عند التحويم (Hover)

---

### 📅 غياب المعلمين
**الغرض:** تسجيل غياب المعلمين وتعيين البدلاء

**الخطوات:**
1. اختر التاريخ واليوم
2. اختر المعلم الغائب
3. حدد الحصص (يمكن اختيار أكثر من حصة)
4. اختر المعلم البديل (اختياري)
   - النظام يعرض المعلمين المتاحين فقط
5. اضغط "تسجيل الغياب"

**ملاحظات:**
- المعلمون المشغولون لا يظهرون في قائمة البدلاء
- يمكن عرض جميع الغيابات لليوم الحالي

---

### 📊 التقرير الإحصائي
**الغرض:** عرض إحصاءات شاملة عن النظام

**يعرض:**
- عدد المعلمين الكلي
- عدد المواد الدراسية
- عدد الحصص
- الغيابات اليوم
- نسبة التغطية
- الغيابات الأخيرة

---

### 📋 عرض الجدول الكامل
**الغرض:** عرض جميع البيانات المستخرجة من XML

**الأقسام:**
1. **الجدول**: جميع الحصص الأسبوعية
2. **المعلمون**: قائمة بجميع المعلمين
3. **الفصول**: قائمة بجميع الفصول
4. **المواد**: قائمة بجميع المواد
5. **الغرف**: قائمة بالغرف الدراسية

---

## ❓ الأسئلة الشائعة

### لماذا الأزرار لا تعمل؟
**السبب:** لم يتم اعتماد الجدول بعد رفع ملف XML.

**الحل:**
1. اذهب إلى "تحميل الجدول"
2. اضغط على زر "اعتماد البيانات" بجوار الجدول المرفوع
3. سيتحول الشعار من "غير معتمد" إلى "معتمد"
4. الآن جميع الأزرار ستعمل!

### كيف أعرف إذا كان الجدول معتمداً؟
- في صفحة "تحميل الجدول"، سترى شارة **"✓ معتمد"** باللون الأخضر
- في شريط التنقل العلوي، سترى **"✓ جدول معتمد"**
- إذا لم يكن معتمداً، ستظهر **"⚠ جدول غير معتمد"**

### هل يمكن اعتماد أكثر من جدول؟
نعم، يمكنك رفع عدة جداول واعتماد كل واحد منها. النظام سيعرض البيانات من جميع الجداول المعتمدة.

### ماذا لو رفعت ملفاً خاطئاً؟
يمكنك حذف الجدول من صفحة "تحميل الجدول" بالضغط على أيقونة سلة المهملات 🗑️

### هل أحتاج لتعديل ملف XML قبل رفعه؟
لا، النظام يقوم بجميع التحويلات تلقائياً:
- تحويل الترميز إلى UTF-8
- إزالة الرموز الغريبة
- تصحيح الأخطاء الشائعة

---

## 🎓 نصائح للاستخدام الأمثل

### 1. دائماً اعتمد البيانات بعد الرفع
لا تنسى الضغط على "اعتماد البيانات" - هذه الخطوة **ضرورية**!

### 2. راجع الجدول قبل الاعتماد
تأكد من صحة:
- أسماء المعلمين
- المواد الدراسية
- عدد الحصص لكل معلم

### 3. استخدم "دليل التحضير"
في صفحة "تحميل الجدول"، يوجد تبويب "دليل التحضير" يشرح كيفية تحضير ملف XML من aSc Timetables.

### 4. سجّل الغياب يومياً
استخدم صفحة "غياب المعلمين" كل صباح لتسجيل الغيابات وتعيين البدلاء.

### 5. راقب التقرير الإحصائي
تحقق من التقرير الإحصائي بانتظام لمتابعة:
- معدل الغياب
- نسبة التغطية
- توزيع الحصص

---

## 🔒 الصلاحيات

### مدير النظام (Admin)
- إضافة مستخدمين جدد
- رفع واعتماد الجداول
- الوصول لجميع الميزات

### مدير المدرسة (Director)
- رفع واعتماد الجداول
- عرض جميع الجداول
- تسجيل الغياب
- عرض التقارير

### معلم (Teacher)
- عرض جدوله الشخصي فقط

---

## 📞 الدعم الفني

إذا واجهت أي مشكلة:
1. تأكد من اعتماد الجدول أولاً
2. راجع هذا الدليل
3. تحقق من رسائل الأخطاء في الشاشة
4. جرب حذف الجدول وإعادة رفعه

---

## ✨ الخلاصة

**لكي تعمل جميع الأزرار:**
1. ✅ سجّل الدخول
2. ✅ ارفع ملف XML
3. ✅ **اعتمد البيانات** ← **أهم خطوة!**
4. ✅ استخدم جميع المميزات

**تذكر:** الاعتماد ضروري لحماية النظام من استخدام بيانات خاطئة!

---

**نتمنى لك تجربة استخدام ممتعة! 🎉**
